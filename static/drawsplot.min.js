function drawsplot(t){var e,n=d3.scale.category20(),r=t+"splot1.json",a=t+"splot2.json";d3.json(r,function(t,r){function a(t){var e={top:30,right:20,bottom:30,left:50},r=(900-e.left-e.right,500-e.top-e.bottom,d3.select("body").append("svg").attr("id","splot1").attr("width",900).attr("height",500).append("g").attr("transform","translate(500,300)"));r.selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size<2?0..toString().concat("px"):t.size<6?(3*t.size+5).toString().concat("px"):t.size<20?(2*t.size+8).toString().concat("px"):"50px"}).style("font-family","Impact").style("fill",function(t,e){return n(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}),r.append("text").attr("x",0).attr("y",-275).attr("text-anchor","middle").style("font-size","32px").style("text-decoration","underline").text("Positive Tweets");r.append("rect").attr("x",-360).attr("y",-260).attr("width",700).attr("height",460).attr("fill","transparent").style("stroke-width",1).style("stroke","black")}e=r,d3.layout.cloud().size([1200,900]).words(e.map(function(t){return{text:t.word,size:t.weight}})).padding(5).rotate(function(){return 90*~~(2*Math.random())}).font("Impact").fontSize(function(t){return t.size}).on("end",a).start()}),d3.json(a,function(t,r){function a(t){var e={top:30,right:20,bottom:30,left:50},r=(900-e.left-e.right,500-e.top-e.bottom,d3.select("body").append("svg").attr("id","splot2").attr("width",900).attr("height",500).append("g").attr("transform","translate(500,300)"));r.selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size<2?0..toString().concat("px"):t.size<6?(3*t.size+5).toString().concat("px"):t.size<20?(2*t.size+8).toString().concat("px"):"50px"}).style("font-family","Impact").style("fill",function(t,e){return n(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}),r.append("text").attr("x",0).attr("y",-275).attr("text-anchor","middle").style("font-size","32px").style("text-decoration","underline").text("Negative Tweets");r.append("rect").attr("x",-360).attr("y",-260).attr("width",700).attr("height",460).attr("fill","transparent").style("stroke-width",1).style("stroke","black")}e=r,d3.layout.cloud().size([1200,900]).words(e.map(function(t){return{text:t.word,size:t.weight}})).padding(5).rotate(function(){return 90*~~(2*Math.random())}).font("Impact").fontSize(function(t){return t.size}).on("end",a).start()})}
//http://jscompress.com/