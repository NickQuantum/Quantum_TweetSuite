function drawsnagraph(t){var e,n,r={top:50,right:20,bottom:30,left:50},a=1300-r.left-r.right,i=700-r.top-r.bottom,l=d3.scale.category20(),o=d3.layout.force().charge(function(t){return t.weight<3?-70:t.weight<7?-160:-t.weight*t.weight-150}).linkStrength(1).linkDistance(function(t){return 10*t.weight+50}).size([a,i]);d3.json(t,function(t,c){o.nodes(c.nodes).links(c.links).start();{var s=d3.select("body").append("svg").attr("id","snagraph").attr("width",a+r.left+r.right).attr("height",i+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");s.append("rect").attr("x",r.left).attr("y",-r.top).attr("width",1300-2*r.left-r.right).attr("height",700).attr("fill","white").style("stroke-width",1).style("stroke","black")}e=s.selectAll(".link").data(c.links).enter().append("line").attr("class","link").style("stroke-width",function(t){return Math.sqrt(t.weight)}),n=s.selectAll(".node").data(c.nodes).enter().append("circle").attr("class","node").attr("r",function(t){return t.weight>0&&t.weight<=20?2*t.weight+5:t.weight>20?60:0}).style("fill",function(t){return l(t.weight)}).call(o.drag),n.append("title").text(function(t){return null!=t.tweet?t.tweet:t.screen_name});var u=s.selectAll("text.label").data(c.nodes).enter().append("text").attr("class","label").attr("fill","black").style("font-size",function(t){return t.weight<10?(2*t.weight+5).toString().concat("px"):t.weight<20?"25px":"40px"}).text(function(t){return t.weight>1?t.screen_name:void 0});o.on("tick",function(){e.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),n.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})})})}